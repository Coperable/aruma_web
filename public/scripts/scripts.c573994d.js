"use strict";angular.module("config",[]).constant("api_host","http://aruma.app").value("debug",!0),angular.module("poliApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","config","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/actividad",{templateUrl:"views/actividad.html",controller:"ActividadCtrl",controllerAs:"actividad"}).when("/proyecto",{templateUrl:"views/proyecto.html",controller:"ProyectoCtrl",controllerAs:"proyecto"}).when("/emprendimiento",{templateUrl:"views/emprendimiento.html",controller:"EmprendimientoCtrl",controllerAs:"emprendimiento"}).when("/organizations/:id",{templateUrl:"views/emprendimiento.html",controller:"organization-controller"}).when("/aruma",{templateUrl:"views/aruma.html",controller:"ArumaCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("poliApp").factory("Organization",["$resource","api_host",function(a,b){return a(b+"/api/organizations/:id",{id:"@id"},{update:{method:"PUT"}})}]).factory("Center",["$resource","api_host",function(a,b){return a(b+"/api/centers/:id",{id:"@id"},{update:{method:"PUT"}})}]).factory("Page",["$resource","api_host",function(a,b){return a(b+"/api/pages/:id",{id:"@id"},{update:{method:"POST"}})}]).factory("Activity",["$resource","api_host",function(a,b){return a(b+"/api/activities/:id",{id:"@id"},{update:{method:"POST"}})}]),angular.module("poliApp").controller("MainCtrl",["$scope","$timeout","$location","$http","api_host","Page",function(a,b,c,d,e,f){a.setup_components=function(){jQuery("a[href*=#]").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=jQuery(this.hash);if(a=a.length?a:jQuery("[name="+this.hash.slice(1)+"]"),a.length)return jQuery("html,body").animate({scrollTop:a.offset().top},1e3),!1}}),a.grid=jQuery(".grid").isotope({itemSelector:".grid-item",layoutMode:"masonry"});var b={numberGreaterThan50:function(){var a=jQuery(this).find(".number").text();return parseInt(a,10)>50},ium:function(){var a=jQuery(this).find(".name").text();return a.match(/iumjQuery/)}};jQuery(".filters-button-group").on("click","button",function(){var c=jQuery(this).attr("data-filter");c=b[c]||c,a.grid.isotope({filter:c})}),jQuery(".button-group").each(function(a,b){var c=jQuery(b);c.on("click","button",function(){c.find(".is-checked").removeClass("is-checked"),jQuery(this).addClass("is-checked")})}),a.grid=jQuery(".grid").masonry({itemSelector:".grid-item",percentPosition:!0,columnWidth:".grid-sizer"}),window.loading_screen.finish()},a.arrange_items=[],a.items=[],a.heights=["390","189","150","246","257","230","224","173"],a.entities=["organizations","products","activities","centers"],d.get(e+"/api/pages/home").success(function(c){a.home=c;var d=a.home;_.each(a.entities,function(b){_.each(d[b],function(c){a.items.push(_.extend(c,{type:b}))})}),a.arrange_items=_.shuffle(a.items),b(function(){a.setup_components()},2e3)}),a.view=function(a,b){c.path("/"+a+"/"+b)}}]).controller("center-controller",["$scope","$timeout","$http","$routeParams","api_host","Center",function(a,b,c,d,e,f){a.center={},Organization.get({id:d.id},function(b){a.organization=b,console.dir(a.organization)})}]).controller("organization-controller",["$scope","$timeout","$http","$routeParams","api_host","Organization",function(a,b,c,d,e,f){a.organization={},f.get({id:d.id},function(b){a.organization=b,console.dir(a.organization)})}]).controller("footer-controller",["$scope",function(a){a.setup_components=function(){console.log("spectagram"),jQuery.fn.spectragram.accessData={accessToken:"1406933036.fedaafa.feec3d50f5194ce5b705a1f11a107e0b",clientID:"fedaafacf224447e8aef74872d3820a1"},jQuery(".instafeed").each(function(){jQuery(this).children("ul").spectragram("getUserFeed",{query:$(this).attr("data-user-name"),max:12})}),jQuery(".instafeedtag").each(function(){jQuery(this).children("ul").spectragram("getRecentTagged",{query:jQuery(this).attr("data-user-name"),max:12})})},a.setup_components()}]).controller("EmprendimientoCtrl",function(){}).controller("ActividadCtrl",function(){}).controller("ProyectoCtrl",function(){}).controller("center-controller",["$scope","$timeout","$location","$http","api_host","Page",function(a,b,c,d,e,f){a.setup_components=function(){jQuery("a[href*=#]").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=jQuery(this.hash);if(a=a.length?a:jQuery("[name="+this.hash.slice(1)+"]"),a.length)return jQuery("html,body").animate({scrollTop:a.offset().top},1e3),!1}}),a.grid=jQuery(".grid").isotope({itemSelector:".grid-item",layoutMode:"masonry"});var b={numberGreaterThan50:function(){var a=jQuery(this).find(".number").text();return parseInt(a,10)>50},ium:function(){var a=jQuery(this).find(".name").text();return a.match(/iumjQuery/)}};jQuery(".filters-button-group").on("click","button",function(){var c=jQuery(this).attr("data-filter");c=b[c]||c,a.grid.isotope({filter:c})}),jQuery(".button-group").each(function(a,b){var c=jQuery(b);c.on("click","button",function(){c.find(".is-checked").removeClass("is-checked"),jQuery(this).addClass("is-checked")})}),a.grid=jQuery(".grid").masonry({itemSelector:".grid-item",percentPosition:!0,columnWidth:".grid-sizer"})},a.arrange_items=[],a.items=[],a.heights=["390","189","150","246","257","230","224","173"],a.entities=["organizations","products","activities","centers"],d.get(e+"/api/pages/home").success(function(c){a.home=c;var d=a.home;_.each(a.entities,function(b){_.each(d[b],function(c){a.items.push(_.extend(c,{type:b}))})}),a.arrange_items=_.shuffle(a.items),b(function(){a.setup_components()},2e3)}),a.view=function(a,b){c.path("/"+a+"/"+b)}}]),angular.module("poliApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/actividad.html","<h1>Actividad</h1>"),a.put("views/emprendimiento.html",'<div class="full_screen" id="portada"> <div class="imagen_portada" ng-style="{\'background-image\': \'url(http://images.collab-dev.com/aruma/\'+organization.main_picture+\')\'}" ng-style="{\'background-size: cover !important;\'}"></div> <div class="texto_portada"> <h1>{{organization.name}}</h1> <h4>{{organization.description}}</h4> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="centered_90 centrado completo"> <div class="tabs_lookeadas"> <ul class="nav nav-tabs" role="tablist"> <li role="presentation" class="active"><a data-target="#tab_paraQue" aria-controls="tab_paraQue" role="tab" data-toggle="tab">Para qué?</a></li> <li role="presentation"><a data-target="#tab_porQue" aria-controls="tab_porQue" role="tab" data-toggle="tab">Por qué?</a></li> <li role="presentation"><a data-target="#tab_como" aria-controls="tab_como" role="tab" data-toggle="tab">Cómo?</a></li> </ul> </div> <div class="gap"></div> <div class="tab-content"> <div role="tabpanel" class="tab-pane fade in active" id="tab_paraQue"> <p> {{organization.what_for_text}} </p> </div> <div role="tabpanel" class="tab-pane fade" id="tab_porQue"> <p> {{organization.why_text}} </p> </div> <div role="tabpanel" class="tab-pane fade" id="tab_como"> <p> {{organization.how_text}} </p> </div> </div> </div> </div> <div class="col-sm-6"> <img src="/images/haulani/hau_cover02.jpg" width="100%"> </div> </div> <div class="row sec_productos"> <h1>{{organization.products_lengend}}</h1> <div class="col-xs-6 col-sm-3 tarjeta_producto" ng-repeat="product in organization.products"> <img ng-src="http://images.collab-dev.com/aruma/{{product.main_picture}}" class="img-responsive"> <p>{{product.description}}</p> </div> </div> <div class="gap"></div> <div class="row sec_donde"> <div class="row-height"> <div class="col-sm-4 donde_tit col-sm-height col-sm-middle"> <h1>Dónde podés encon- trarnos</h1> </div> <div class="col-sm-8 donde_map"> <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d105073.23949906467!2d-58.43329845000001!3d-34.615823750000004!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1ses-419!2sar!4v1446645514133" width="900" height="600" frameborder="0" style="border:0" allowfullscreen></iframe> </div> </div> </div> <div class="sec_twitter"> <i class="fa fa-twitter"></i> <p>@ana-es: compartiendo un delicioso helado con mis amigos. #haulani</p> </div> <div class="sec_fotos"> <h1>#haulani</h1> <h4>Momentos que hacen bien</h4> <div class="row grilla_instagram"> <div class="col-sm-4"> <img src="/images/haulani/instagram/hau_instagram01.jpg"> </div> <div class="col-sm-4"> <img src="/images/haulani/instagram/hau_instagram02.jpg"> </div> <div class="col-sm-4"> <img src="/images/haulani/instagram/hau_instagram03.jpg"> </div> <div class="col-sm-4"> <img src="/images/haulani/instagram/hau_instagram04.jpg"> </div> <div class="col-sm-4"> <img src="/images/haulani/instagram/hau_instagram05.jpg"> </div> <div class="col-sm-4"> <img src="/images/haulani/instagram/hau_instagram06.jpg"> </div> <div class="col-sm-4"> <img src="/images/haulani/instagram/hau_instagram07.jpg"> </div> <div class="col-sm-4"> <img src="/images/haulani/instagram/hau_instagram08.jpg"> </div> </div> </div> <div class="gap"></div>'),a.put("views/main.html",'<div class="full_screen" id="portada"> <div class="imagen_portada" ng-style="{\'background-image\': \'url(http://images.collab-dev.com/aruma/\'+home.main_picture+\')\'}" ng-style="{\'background-size: cover !important;\'}"></div> <div class="texto_portada"> <h1>Aruma <small>LAB</small></h1> <h4>{{home.description}}</h4> </div> </div> <div id="inicio"></div> <div class="mini_gap"></div> <div> <div class="button-group filters-button-group"> <button class="btn_filtro is-checked" data-filter="*">todo</button> <button class="btn_filtro" data-filter=".products">productos</button> <button class="btn_filtro" data-filter=".organizations">emprendimientos</button> <button class="btn_filtro" data-filter=".activities">actividades</button> <button class="btn_filtro" data-filter=".centers">laboratorio</button> </div> <div class="toggle_map"> <h4>board <i class="fa fa-toggle-off"></i> mapa</h4> </div> <div class="mini_gap"></div> <div class="grid" style="min-height: 620px"> <div class="grid-sizer"></div> <div class="grid-item {{item.type}}" ng-class="{\'novedades\':\'item.novelty\'}" ng-repeat="item in arrange_items track by $index |limitTo: 8" ng-click="view(item.type, item.id)"> <img ng-src="http://images.collab-dev.com/trim/336x{{heights[$index]}}/smart/aruma/{{item.main_picture}}"> <div class="caption"><div> <h2>{{item.name}}</h2> <span>{{item.description}}</span> </div> </div> </div> </div> <div class="sec_info"> <div class="info_inner"> <h1>Estamos en contacto</h1> <div class="info_botones"> <button class="btn_action">Newsletter</button> <button class="btn_nav">Escribinos</button> </div> </div> </div></div>'),a.put("views/proyecto.html","<h1>ARUMA (proyecto)</h1>")}]);